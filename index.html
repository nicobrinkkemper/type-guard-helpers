<!DOCTYPE html><html class="default no-js"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>type-guard-helpers</title><meta name="description" content="Documentation for type-guard-helpers"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">type-guard-helpers</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>type-guard-helpers</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography"><p><a href="http://nodejs.org/download/"><img src="https://img.shields.io/node/v/type-guard-helpers.svg?style=flat" alt="Node version"></a>
<img src="https://github.com/nicobrinkkemper/type-guard-helpers/actions/workflows/node.js.yml/badge.svg" alt="build"></p>
<p><a href="https://www.npmjs.com/package/type-guard-helpers"><img src="https://nodei.co/npm/type-guard-helpers.png?downloads=true&downloadRank=true&stars=true" alt="https://nodei.co/npm/type-guard-helpers.png?downloads=true&amp;downloadRank=true&amp;stars=true"></a></p>

<a href="#installation" id="installation" style="color: inherit; text-decoration: none;">
  <h1>Installation</h1>
</a>
<pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">type</span><span class="hl-1">-</span><span class="hl-0">guard</span><span class="hl-1">-</span><span class="hl-0">helpers</span>
</code></pre>

<a href="#type-guard-basics" id="type-guard-basics" style="color: inherit; text-decoration: none;">
  <h1>Type Guard Basics</h1>
</a>
<p>A quick introduction to Type Guards in Typescript.</p>
<blockquote>
<p><a href="https://www.typescriptlang.org/docs/handbook/2/narrowing.html">Check out the official documentation about narrowing in Typescript</a></p>
</blockquote>

<a href="#idiomatic-type-guard" id="idiomatic-type-guard" style="color: inherit; text-decoration: none;">
  <h2>Idiomatic Type Guard</h2>
</a>
<p>A Type Guard is a technique to narrow down the type of a variable.
They are really just if-statements:</p>
<pre><code class="language-ts"><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-0">status</span><span class="hl-1"> === </span><span class="hl-8">&#39;success&#39;</span><span class="hl-1">) </span><span class="hl-0">status</span><span class="hl-1">; </span><span class="hl-3">// status: &#39;success&#39;</span>
</code></pre>

<a href="#user-defined-type-guard" id="user-defined-type-guard" style="color: inherit; text-decoration: none;">
  <h2>User Defined Type Guard</h2>
</a>
<p>Type Guards can be compartmentalized by defining a function using the <code>is</code> keyword:</p>
<pre><code class="language-ts"><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-7">isSuccess</span><span class="hl-1"> = (</span><span class="hl-0">value</span><span class="hl-1">: </span><span class="hl-4">unknown</span><span class="hl-1">): </span><span class="hl-0">value</span><span class="hl-1"> </span><span class="hl-2">is</span><span class="hl-1"> </span><span class="hl-8">&#39;success&#39;</span><span class="hl-1"> </span><span class="hl-2">=&gt;</span><span class="hl-1"> </span><span class="hl-0">value</span><span class="hl-1"> === </span><span class="hl-8">&#39;success&#39;</span><span class="hl-1">;</span><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">isSuccess</span><span class="hl-1">(</span><span class="hl-0">status</span><span class="hl-1">)) </span><span class="hl-0">status</span><span class="hl-1">; </span><span class="hl-3">// status: &#39;success&#39;</span>
</code></pre>

<a href="#provided-helpers" id="provided-helpers" style="color: inherit; text-decoration: none;">
  <h1>Provided Helpers</h1>
</a>
<blockquote>
<p><a href="https://nicobrinkkemper.github.io/type-guard-helpers/">Check out the documentation of this project</a> for a complete overview.</p>
</blockquote>

<a href="#foobar-example" id="foobar-example" style="color: inherit; text-decoration: none;">
  <h1>FooBar Example</h1>
</a>
<p>The code below uses several helper functions to create Guard Types for specific configurations. The comments relate to what you would see when hovering over the variables in your code editor.</p>
<pre><code class="language-ts"><span class="hl-6">import</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">guardArray</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">matchSchema</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">matchExactSchema</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">matchString</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">matchStrings</span><span class="hl-1">,</span><br/><span class="hl-1">} </span><span class="hl-6">from</span><span class="hl-1"> </span><span class="hl-8">&#39;type-guard-helpers&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">test</span><span class="hl-1"> = {} </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-4">unknown</span><span class="hl-1">; </span><span class="hl-3">// unknown</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isBar</span><span class="hl-1"> = </span><span class="hl-7">matchString</span><span class="hl-1">(</span><span class="hl-8">&#39;bar&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isFoo</span><span class="hl-1"> = </span><span class="hl-7">matchString</span><span class="hl-1">(</span><span class="hl-8">&#39;foo&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isFooOrBar</span><span class="hl-1"> = </span><span class="hl-7">matchStrings</span><span class="hl-1">([</span><span class="hl-8">&#39;foo&#39;</span><span class="hl-1">, </span><span class="hl-8">&#39;bar&#39;</span><span class="hl-1">] </span><span class="hl-6">as</span><span class="hl-1"> </span><span class="hl-2">const</span><span class="hl-1">);</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isFooBar</span><span class="hl-1"> = </span><span class="hl-7">matchSchema</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">foo:</span><span class="hl-1"> </span><span class="hl-0">isFoo</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">bar:</span><span class="hl-1"> </span><span class="hl-0">isBar</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isFooBarNested</span><span class="hl-1"> = </span><span class="hl-7">matchExactSchema</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">foobar:</span><span class="hl-1"> </span><span class="hl-0">isFooBar</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">isFooBarArray</span><span class="hl-1"> = </span><span class="hl-7">guardArray</span><span class="hl-1">(</span><span class="hl-0">isFooBar</span><span class="hl-1">);</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">isFooBar</span><span class="hl-1">(</span><span class="hl-0">test</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-0">test</span><span class="hl-1">.</span><span class="hl-0">foo</span><span class="hl-1">; </span><span class="hl-3">// foo: &quot;foo&quot;</span><br/><span class="hl-1">    </span><span class="hl-0">test</span><span class="hl-1">.</span><span class="hl-0">bar</span><span class="hl-1">; </span><span class="hl-3">// bar: &quot;bar&quot;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">isFooBarArray</span><span class="hl-1">(</span><span class="hl-0">test</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-0">test</span><span class="hl-1">; </span><span class="hl-3">// readonly { readonly foo: &quot;foo&quot;; readonly bar: &quot;bar&quot;; }[]</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">isFooBarNested</span><span class="hl-1">(</span><span class="hl-0">test</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-0">test</span><span class="hl-1">.</span><span class="hl-0">foobar</span><span class="hl-1">; </span><span class="hl-3">// { readonly foo: &quot;foo&quot;; readonly bar: &quot;bar&quot;; }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">if</span><span class="hl-1"> (</span><span class="hl-7">isFooOrBar</span><span class="hl-1">(</span><span class="hl-0">test</span><span class="hl-1">)) {</span><br/><span class="hl-1">    </span><span class="hl-0">test</span><span class="hl-1">; </span><span class="hl-3">// &quot;bar&quot; | &quot;foo&quot;</span><br/><span class="hl-1">}</span>
</code></pre>

<a href="#using-third-party-type-guards" id="using-third-party-type-guards" style="color: inherit; text-decoration: none;">
  <h2>Using third-party Type Guards</h2>
</a>
<p>Other libraries may also provide Type Guards. Some are even provided natively, such as <code>Array.isArray</code>. They should work with any of the helper functions listed here. Feel free to use and combine them.</p>
<blockquote>
<p>Keep in mind that the implementation of third-party helpers may differ substantially. For example, the <code>isObject</code> listed here is very different from Lodash&#39;s <code>isObject</code>.</p>
</blockquote>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-type-alias"><a href="modules.html#AnyTypeGuard" class="tsd-kind-icon">Any<wbr/>Type<wbr/>Guard</a></li><li class="tsd-kind-type-alias"><a href="modules.html#EntryTypeGuard" class="tsd-kind-icon">Entry<wbr/>Type<wbr/>Guard</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#GuardType" class="tsd-kind-icon">Guard<wbr/>Type</a></li><li class="tsd-kind-type-alias"><a href="modules.html#KeyTypeGuard" class="tsd-kind-icon">Key<wbr/>Type<wbr/>Guard</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#MatchType" class="tsd-kind-icon">Match<wbr/>Type</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#UnionToIntersection" class="tsd-kind-icon">Union<wbr/>To<wbr/>Intersection</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#guardAll" class="tsd-kind-icon">guard<wbr/>All</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#guardAllIn" class="tsd-kind-icon">guard<wbr/>All<wbr/>In</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#guardArray" class="tsd-kind-icon">guard<wbr/>Array</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#guardEither" class="tsd-kind-icon">guard<wbr/>Either</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#guardEitherIn" class="tsd-kind-icon">guard<wbr/>Either<wbr/>In</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#guardEntries" class="tsd-kind-icon">guard<wbr/>Entries</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#guardNonEmptyArray" class="tsd-kind-icon">guard<wbr/>Non<wbr/>Empty<wbr/>Array</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#guardOption" class="tsd-kind-icon">guard<wbr/>Option</a></li><li class="tsd-kind-function"><a href="modules.html#isArray" class="tsd-kind-icon">is<wbr/>Array</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#isDefined" class="tsd-kind-icon">is<wbr/>Defined</a></li><li class="tsd-kind-function"><a href="modules.html#isEmptyArray" class="tsd-kind-icon">is<wbr/>Empty<wbr/>Array</a></li><li class="tsd-kind-function"><a href="modules.html#isFalse" class="tsd-kind-icon">is<wbr/>False</a></li><li class="tsd-kind-function"><a href="modules.html#isNil" class="tsd-kind-icon">is<wbr/>Nil</a></li><li class="tsd-kind-function"><a href="modules.html#isNonEmptyArray" class="tsd-kind-icon">is<wbr/>Non<wbr/>Empty<wbr/>Array</a></li><li class="tsd-kind-function"><a href="modules.html#isNull" class="tsd-kind-icon">is<wbr/>Null</a></li><li class="tsd-kind-function"><a href="modules.html#isPropertyKey" class="tsd-kind-icon">is<wbr/>Property<wbr/>Key</a></li><li class="tsd-kind-function"><a href="modules.html#isRecord" class="tsd-kind-icon">is<wbr/>Record</a></li><li class="tsd-kind-function"><a href="modules.html#isTrue" class="tsd-kind-icon">is<wbr/>True</a></li><li class="tsd-kind-function"><a href="modules.html#isTypeBoolean" class="tsd-kind-icon">is<wbr/>Type<wbr/>Boolean</a></li><li class="tsd-kind-function"><a href="modules.html#isTypeFunction" class="tsd-kind-icon">is<wbr/>Type<wbr/>Function</a></li><li class="tsd-kind-function"><a href="modules.html#isTypeNumber" class="tsd-kind-icon">is<wbr/>Type<wbr/>Number</a></li><li class="tsd-kind-function"><a href="modules.html#isTypeObject" class="tsd-kind-icon">is<wbr/>Type<wbr/>Object</a></li><li class="tsd-kind-function"><a href="modules.html#isTypeString" class="tsd-kind-icon">is<wbr/>Type<wbr/>String</a></li><li class="tsd-kind-function"><a href="modules.html#isTypeSymbol" class="tsd-kind-icon">is<wbr/>Type<wbr/>Symbol</a></li><li class="tsd-kind-function"><a href="modules.html#isTypeUndefined" class="tsd-kind-icon">is<wbr/>Type<wbr/>Undefined</a></li><li class="tsd-kind-function"><a href="modules.html#isUndefined" class="tsd-kind-icon">is<wbr/>Undefined</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#match" class="tsd-kind-icon">match</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchAllObjectKeys" class="tsd-kind-icon">match<wbr/>All<wbr/>Object<wbr/>Keys</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchArgs" class="tsd-kind-icon">match<wbr/>Args</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchBoolean" class="tsd-kind-icon">match<wbr/>Boolean</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchEntry" class="tsd-kind-icon">match<wbr/>Entry</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchExactSchema" class="tsd-kind-icon">match<wbr/>Exact<wbr/>Schema</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchIn" class="tsd-kind-icon">match<wbr/>In</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchKey" class="tsd-kind-icon">match<wbr/>Key</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchKeyIn" class="tsd-kind-icon">match<wbr/>Key<wbr/>In</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchKeyInObject" class="tsd-kind-icon">match<wbr/>Key<wbr/>In<wbr/>Object</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchKeys" class="tsd-kind-icon">match<wbr/>Keys</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchNumber" class="tsd-kind-icon">match<wbr/>Number</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchNumberIn" class="tsd-kind-icon">match<wbr/>Number<wbr/>In</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchNumbers" class="tsd-kind-icon">match<wbr/>Numbers</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchObjectKey" class="tsd-kind-icon">match<wbr/>Object<wbr/>Key</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchOptionalEntry" class="tsd-kind-icon">match<wbr/>Optional<wbr/>Entry</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchPartialSchema" class="tsd-kind-icon">match<wbr/>Partial<wbr/>Schema</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchSchema" class="tsd-kind-icon">match<wbr/>Schema</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchString" class="tsd-kind-icon">match<wbr/>String</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchStringIn" class="tsd-kind-icon">match<wbr/>String<wbr/>In</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchStrings" class="tsd-kind-icon">match<wbr/>Strings</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchType" class="tsd-kind-icon">match<wbr/>Type</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchTypeIn" class="tsd-kind-icon">match<wbr/>Type<wbr/>In</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#matchTypes" class="tsd-kind-icon">match<wbr/>Types</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#negateGuard" class="tsd-kind-icon">negate<wbr/>Guard</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>